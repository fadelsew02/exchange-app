<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <!-- <link rel="shortcut icon" href="./images/favicon.png" type=""> -->
    <title>e-Transfert</title>
    <link rel="stylesheet" type="text/css" th:href="@{../css/bootstrap.css}" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"
    />
    <link rel="stylesheet" th:href="@{../css/responsive.css}" />
    <link rel="stylesheet" th:href="@{../css/font-awesome.min.css}" />
    <link rel="stylesheet" th:href="@{../css/style.css}" />
    <link th:href="@{../css/LoginAndRegister.css}" rel="stylesheet" />
  </head>

  <body class="sub_page">
    <div class="hero_area">
      <div class="hero_bg_box">
        <div class="bg_img_box">
          <img th:src="@{images/hero-bg.png}" alt="" />
        </div>
      </div>

      <!-- header section strats -->
      <header class="header_section">
        <div class="container-fluid">
          <nav class="navbar navbar-expand-lg custom_nav-container">
            <a class="navbar-brand" href="index.html">
              <span> e-TRANSFERT </span>
            </a>

            <button
              class="navbar-toggler"
              type="button"
              data-toggle="collapse"
              data-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class=""> </span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a class="nav-link" th:href="@{/}">Accueil </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" th:href="@{/monnaies}"> Nos monnaies</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" th:href="@{/reviews}">Appreciations</a>
                </li>

                <li class="nav-item">
                  <a class="nav-link" th:href="@{/contact}">Contact</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" th:href="@{/login-and-register}">
                    <i class="fa fa-user" aria-hidden="true"></i>Se Connecter
                    <span class="sr-only">(current)</span></a
                  >
                </li>
                <form class="form-inline">
                  <button
                    class="btn my-2 my-sm-0 nav_search-btn"
                    title="button"
                    type="submit"
                  >
                    <i class="fa fa-search" aria-hidden="true"></i>
                  </button>
                </form>
              </ul>
            </div>
          </nav>
        </div>
      </header>

      <!-- end header section -->
    </div>

    <!-- info section -->
    <div class="form-login">
      <ul class="tab-group">
        <li class="tab active"><a href="#signup">Sign Up</a></li>
        <li class="tab"><a href="#login">Log In</a></li>
      </ul>

      <div class="tab-content">
        <div id="signup" class="tab-pane active">
          <h1>Sign Up</h1>

          <form
            th:action="@{/api/inscription}"
            method="post"
            id="form-signup"
            th:object="${user}"
          >
            <div class="top-row">
              <div class="field-wrap">
                <!-- <label>
              First Name<span class="req">*</span>
            </label> -->
                <input
                  th:field="*{firstName}"
                  name="firstName"
                  type="text"
                  title="FirstName"
                  required
                  autocomplete="off"
                  placeholder="First Name*"
                />
              </div>

              <div class="field-wrap">
                <!-- <label>
              Last Name<span class="req">*</span>
            </label> -->
                <input
                  type="text"
                  name="surName"
                  title="surName"
                  required
                  autocomplete="off"
                  th:field="*{surName}"
                  placeholder="Last Name*"
                />
              </div>
            </div>

            <div class="field-wrap">
              <!-- <label>
            Email Address<span class="req">*</span>
          </label> -->
              <input
                type="email"
                title="email"
                name="email"
                required
                autocomplete="off"
                th:field="*{email}"
                placeholder="Email Address*"
              />
            </div>

            <div class="field-wrap">
              <!-- <label>
            Telephone<span class="req">*</span>
          </label> -->
              <input
                type="tel"
                title="tel"
                name="tel"
                required
                autocomplete="off"
                th:field="*{tel}"
                placeholder="Telephone*"
              />
            </div>

            <div class="field-wrap">
              <!-- <label>
            Set A Password<span class="req">*</span>
          </label> -->
              <input
                type="password"
                title="password"
                id="password"
                name="password"
                required
                th:field="*{password}"
                autocomplete="off"
                placeholder="Password*"
              />
            </div>

            <div class="field-wrap">
              <!-- <label>
            Confirm A Password<span class="req">*</span>
          </label> -->
              <input
                type="password"
                title="password"
                id="password_confirm"
                name="password_confirm"
                required
                autocomplete="off"
                placeholder="Confirm A Password*"
              />
            </div>

            <button
              type="submit"
              class="button button-block"
              id="content_field"
            >
              S'inscrire
            </button>
          </form>
        </div>

        <div id="login" class="tab-pane">
          <h1>Welcome Back!</h1>

          <form th:action="@{/api/connexion}" method="post" th:object="${user}">
            <div class="field-wrap">
              <!-- <label> Email Address<span class="req">*</span> </label> -->
              <input 
                type="email"
                title="email"
                name="email"
                required
                autocomplete="off"
                th:field="*{email}"
                placeholder="Email Address*"
              />
            </div>

            <div class="field-wrap">
              <!-- <label> Password<span class="req">*</span> </label> -->
              <input
                type="password"
                title="password"
                id="password-login"
                name="password"
                required
                th:field="*{password}"
                autocomplete="off"
                placeholder="Password*"
              />
            </div>

            <p class="forgot"><a th:href="@{#}">Forgot Password?</a></p>

            <button type="submit" class="button button-block">Log In</button>
          </form>
        </div>
      </div>
      <!-- tab-content -->
    </div>
    <!-- /form -->

    <script>
      function emailValidation() {
        const form = document.getElementById("form-signup");
        const password_confirmation =
          document.getElementById("password_confirm");
        const element = document.createElement("p");
        const message = document.createTextNode("Mots de passe incompatible");
        const contentField = document.getElementById("content_field");
        element.appendChild(message);
        element.setAttribute("id", "alert");
        element.classList.add("alert_color");
        password_confirmation.addEventListener("keyup", (e) => {
          if (form.password.value !== form.password_confirm.value) {
            if (!document.getElementById("alert")) {
              contentField.parentNode.insertBefore(element, contentField);
              password_confirmation.classList.add("alert_bg");
            }
          } else {
            password_confirmation.classList.remove("alert_bg");
            element.parentNode.removeChild(element);
            contentField.removeAttribute("disabled");
          }
        });
      }

      window.onload = function () {
        emailValidation();
      };

      document.addEventListener("DOMContentLoaded", function () {
        var tabs = document.querySelectorAll(".tab-group .tab");
        tabs.forEach(function (tab) {
          tab.addEventListener("click", function (event) {
            event.preventDefault();
            tabs.forEach(function (t) {
              t.classList.remove("active");
            });
            tab.classList.add("active");
            var targetId = tab
              .querySelector("a")
              .getAttribute("href")
              .substring(1);
            var tabContents = document.querySelectorAll(
              ".tab-content .tab-pane"
            );
            tabContents.forEach(function (content) {
              content.classList.remove("active");
            });
            document.getElementById(targetId).classList.add("active");
          });
        });
      });
    </script>

    <!-- end info section -->

    <!-- footer section -->
    <section class="footer_section">
      <div class="container">
        <p>
          &copy; <span id="displayYear"></span> Copyright
          <a href="https://html.design/">Application e-Transfert</a>
        </p>
      </div>
    </section>
    <!-- footer section -->

    <script
      type="text/javascript"
      src="@{../javascript/sendRequest.js}"
    ></script>
    <!-- jQery -->
    <script
      type="text/javascript"
      src="@{../javascript/jquery-3.4.1.min.js}"
    ></script>
    <!-- popper js -->
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <!-- bootstrap js -->
    <script type="text/javascript" src="@{../javascript/bootstrap.js}"></script>
    <!-- owl slider -->
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"
    ></script>
    <!-- custom js -->
    <script type="text/javascript" src="@{../javascript/custom.js}"></script>
  </body>
</html>
